(this.webpackJsonpbibliophile_web=this.webpackJsonpbibliophile_web||[]).push([[0],{162:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},326:function(e,t){},334:function(e,t,a){},338:function(e,t,a){},356:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),c=a(14),s=a.n(c),A=(a(204),a(18)),r=a(15),o=a(21),l=(a(205),a(55),a(103)),d=a(7),g=a(358),j=a(410),b=a(402),u=a(408),C=a(394),I=a(417),h=a(409),m=a(398),O=a(185),p=a(399),x=a(176),f=a.n(x),v=a(9),w=a(16),N=a(17),k=a.n(N),y="http://127.0.0.1:8000",P=localStorage.getItem("bibliophile_token"),S="Bearer ".concat(P),B=function(e){return k()({method:"PATCH",url:"".concat(y,"/api/users/verify_otp/"),data:e})},R=function(e,t){return k()({method:"get",url:"https://www.googleapis.com/books/v1/volumes?q=intitle:".concat(e,"&startIndex=").concat(10*(t-1))})},F=function(e){return k()({method:"PUT",url:"".concat(y,"/api/users/friend_requests/"),data:e,headers:{accept:"application/json",Authorization:S}})},K=a(72),q=new K.c({UserPoolId:"ap-south-1_SHAVBsp2a",ClientId:"2qgvoimt1ol5osn8lgstb3009d"}),U=a(1),Q=function(e){var t=e.handleChange,a=Object(o.f)(),i={margin:"8px 0"},n=w.b().shape({email:w.d().email("Please enter valid email").required("Required"),password:w.d().required("Required")});return Object(U.jsx)(C.a,{children:Object(U.jsxs)(g.a,{className:"login-section",children:[Object(U.jsxs)(C.a,{align:"center",children:[Object(U.jsx)(I.a,{style:{backgroundColor:"green"},children:Object(U.jsx)(f.a,{})}),Object(U.jsx)("h2",{children:"Sign In"})]}),Object(U.jsx)(v.d,{initialValues:{email:"",password:""},onSubmit:function(e,t){var i=new K.b({Username:e.email,Pool:q}),n=new K.a({Username:e.email,Password:e.password});i.authenticateUser(n,{onSuccess:function(e){console.log("onSucess:",e),console.log(e.accessToken.jwtToken),t.resetForm(),t.setSubmitting(!1),a.push("/home/")},onFailure:function(e){console.log("onFailure:",e),t.setFieldError("email",e.message),t.setSubmitting(!1)},newPasswordRequired:function(e){console.log("newPasswordRequired",e),t.setFieldError("email","Invalid Credentials"),t.setSubmitting(!1)}})},validationSchema:n,validateOnChange:!1,validateOnBlur:!1,children:function(e){return Object(U.jsxs)(v.c,{children:[Object(U.jsx)(v.b,{as:h.a,label:"Email",name:"email",placeholder:"Enter email",helperText:Object(U.jsx)(v.a,{name:"email"}),fullWidth:!0,required:!0}),Object(U.jsx)(v.b,{as:h.a,label:"Password",helperText:Object(U.jsx)(v.a,{name:"password"}),name:"password",placeholder:"Enter password",type:"password",fullWidth:!0,required:!0}),Object(U.jsx)(m.a,{style:i,type:"submit",variant:"contained",disabled:e.isSubmitting,fullWidth:!0,color:"primary",children:e.isSubmitting?"Loading":"Sign In"}),Object(U.jsx)(O.a,{children:Object(U.jsx)(p.a,{href:"/forget_password/",children:"Forgot Password"})}),Object(U.jsxs)(O.a,{children:[" Do You have an account?",Object(U.jsx)(p.a,{href:"#",onClick:function(){return t("event",1)},children:"Sign Up"})]})]})}})]})})},E=a(53),D=a.n(E),_=a(400),T=a(412),W=a(397),H=function(){Object(o.f)();var e=w.b().shape({firstName:w.d().min(3,"Too short").required("Required"),lastName:w.d().min(3,"Too short"),email:w.d().email("Please enter valid email").required("Required"),phoneNumber:w.a().typeError("Enter valid phone number").required("Required"),password:w.d().min(8,"Password  minimum length should be 8").required("Required"),confirmPassword:w.d().oneOf([w.c("password")],"Password not matched").required("Required"),termsAndConditions:w.d().oneOf(["true"],"Accept terms & conditions")});return Object(U.jsx)(C.a,{children:Object(U.jsxs)(g.a,{className:"login-section",children:[Object(U.jsxs)(C.a,{align:"center",children:[Object(U.jsx)(I.a,{style:{backgroundColor:"green"},children:Object(U.jsx)(D.a,{})}),Object(U.jsx)("h2",{children:"Sign Up"}),Object(U.jsx)(O.a,{variant:"caption",children:"Please fill this form to create an account"})]}),Object(U.jsx)(v.d,{initialValues:{firstName:"",lastName:"",email:"",phoneNumber:"",password:"",confirmPassword:"",termsAndConditions:!1},onSubmit:function(e,t){q.signUp(e.email,e.password,[{Name:"given_name",Value:e.firstName},{Name:"family_name",Value:e.lastName},{Name:"gender",Value:"Male"}],null,(function(e,a){t.setSubmitting(!1)}))},validationSchema:e,validateOnChange:!1,validateOnBlur:!1,children:function(e){return Object(U.jsxs)(v.c,{children:[Object(U.jsx)(v.b,{as:h.a,name:"firstName",helperText:Object(U.jsx)(v.a,{name:"firstName"}),fullWidth:!0,label:"First Name",placeholder:"Enter your first name"}),Object(U.jsx)(v.b,{as:h.a,name:"lastName",helperText:Object(U.jsx)(v.a,{name:"lastName"}),fullWidth:!0,label:"Last Name",placeholder:"Enter your last name"}),Object(U.jsx)(v.b,{as:h.a,name:"email",helperText:Object(U.jsx)(v.a,{name:"email"}),fullWidth:!0,label:"Email",placeholder:"Enter your email"}),Object(U.jsx)(v.b,{as:h.a,name:"phoneNumber",helperText:Object(U.jsx)(v.a,{name:"phoneNumber"}),fullWidth:!0,label:"Phone Number",placeholder:"Enter your phone number"}),Object(U.jsx)(v.b,{as:h.a,name:"password",helperText:Object(U.jsx)(v.a,{name:"password"}),fullWidth:!0,label:"Password",type:"password",placeholder:"Enter your password"}),Object(U.jsx)(v.b,{as:h.a,name:"confirmPassword",helperText:Object(U.jsx)(v.a,{name:"confirmPassword"}),fullWidth:!0,label:"Confirm Password",type:"password",placeholder:"Enter your password again"}),Object(U.jsx)(_.a,{control:Object(U.jsx)(v.b,{as:T.a,name:"termsAndConditions"}),label:"I accept the terms and conditions"}),Object(U.jsxs)(W.a,{children:[" ",Object(U.jsx)(v.a,{name:"termsAndConditions"})," "]}),Object(U.jsx)(m.a,{className:"signup-btn",type:"submit",disabled:e.isSubmitting,variant:"contained",color:"primary",children:e.isSubmitting?"Signing in...":"Sign Up"})]})}})]})})},L=["children","value","index"],z=function(){var e=Object(i.useState)(0),t=Object(d.a)(e,2),a=t[0],n=t[1],c=function(e,t){n(t)};function s(e){var t=e.children,a=e.value,i=e.index,n=Object(l.a)(e,L);return Object(U.jsx)("div",Object(A.a)(Object(A.a)({role:"tabpanel",hidden:a!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i)},n),{},{children:a===i&&Object(U.jsx)(u.a,{children:t})}))}return Object(U.jsxs)(g.a,{elevation:20,className:"login-register-container",children:[Object(U.jsxs)(j.a,{value:a,indicatorColor:"primary",textColor:"primary",onChange:c,"aria-label":"disabled tabs example",children:[Object(U.jsx)(b.a,{label:"Sign In"}),Object(U.jsx)(b.a,{label:"Sign Up"})]}),Object(U.jsx)(s,{value:a,index:0,children:Object(U.jsx)(Q,{handleChange:c})}),Object(U.jsx)(s,{className:"signup-tab",value:a,index:1,children:Object(U.jsx)(H,{})})]})},X=function(){var e=Object(o.g)(),t=Object(o.f)(),a={marginTop:50},i=w.b().shape({otp:w.d().min(4,"OTP  minimum length should be 4").required("Required")});return Object(U.jsx)(C.a,{children:Object(U.jsxs)(g.a,{className:"login-section",children:[Object(U.jsxs)(C.a,{align:"center",children:[Object(U.jsx)(I.a,{style:{backgroundColor:"green"},children:Object(U.jsx)(D.a,{})}),Object(U.jsx)("h2",{children:"Verify Account"}),Object(U.jsxs)(O.a,{variant:"caption",children:["Please enter OTP sent to ",e.state.email]})]}),Object(U.jsx)(v.d,{initialValues:{otp:""},onSubmit:function(a,i){var n={email:e.state.email,otp:a.otp};console.log(n),function(e){return k()({method:"POST",url:"".concat(y,"/api/users/verify_otp/"),data:e})}(n).then((function(e){console.log(e),i.setSubmitting(!1),setTimeout((function(){t.push("/")}),5e3)})).catch((function(e){i.setFieldError("otp","Otp is invalid"),i.setSubmitting(!1)}))},validationSchema:i,children:function(e){return Object(U.jsxs)(v.c,{align:"center",style:a,children:[Object(U.jsx)(v.b,{as:h.a,name:"otp",helperText:Object(U.jsx)(v.a,{name:"otp"}),fullWidth:!0,label:"OTP",placeholder:"Enter OTP received"}),Object(U.jsx)(m.a,{type:"submit",disabled:e.isSubmitting,variant:"outlined",color:"primary",children:e.isSubmitting?"Verifying...":"Verify"})]})}}),Object(U.jsxs)(O.a,{children:["If OTP is not recieved? ",Object(U.jsx)("br",{}),"To resend ",Object(U.jsx)(m.a,{color:"primary",onClick:function(t,a){var i={email:e.state.email};console.log(i),B(i).then((function(e){console.log(e),alert("Otp send successfully")})).catch((function(e){alert(e.response.data.error)}))},children:"click here"})]})]})})},V=function(e){var t=e.match.params.email,a=e.match.params.email_token,n=Object(i.useState)(""),c=Object(d.a)(n,2),s=c[0],A=c[1],r=Object(i.useState)({display:"none"}),o=Object(d.a)(r,2),l=o[0],j=o[1];return Object(i.useEffect)((function(e,i){var n={email:t,email_token:a};console.log(n),function(e){return k()({method:"POST",url:"".concat(y,"/api/users/email_verification/"),data:e})}(n).then((function(e){A("Your account has been verified. You will be redirected in 5 seconds. Thank You")})).catch((function(e){A("Your account has not been. Please check your confirmation url. Thank You"),j({})}))}),[]),Object(U.jsx)(C.a,{children:Object(U.jsxs)(g.a,{className:"login-section",children:[Object(U.jsxs)(C.a,{align:"center",children:[Object(U.jsx)(I.a,{style:{backgroundColor:"green"},children:Object(U.jsx)(D.a,{})}),Object(U.jsx)("h2",{children:"Verify Account"}),Object(U.jsx)(O.a,{variant:"h6",children:"Email verification status"})]}),Object(U.jsxs)(O.a,{style:{marginTop:{marginTop:50}},children:[s,Object(U.jsx)("br",{}),"Please login again ",Object(U.jsx)(m.a,{style:l,color:"primary",children:"click here"})]})]})})},M=function(){var e=Object(o.f)(),t=Object(i.useState)(""),a=Object(d.a)(t,2),n=a[0],c=a[1],s=Object(i.useState)({display:"none"}),r=Object(d.a)(s,2),l=r[0],j=r[1],b={marginTop:50},u={email:"",password:""},p=w.b().shape({email:w.d().email("Please enter valid email").required("Required")}),x=w.b().shape({otp:w.d().min(4,"OTP  minimum length should be 4").required("Required"),password:w.d().min(8,"Password  minimum length should be 8").required("Required"),confirmPassword:w.d().oneOf([w.c("password")],"Password not matched").required("Required")});return Object(U.jsx)(C.a,{children:Object(U.jsxs)(g.a,{className:"login-section",children:[Object(U.jsxs)(C.a,{align:"center",children:[Object(U.jsx)(I.a,{style:{backgroundColor:"green"},children:Object(U.jsx)(D.a,{})}),Object(U.jsx)("h2",{children:"Reset Password"}),Object(U.jsx)(O.a,{variant:"caption"})]}),Object(U.jsx)(v.d,{initialValues:u,onSubmit:function(e,t){var a={email:e.email};console.log(a),B(a).then((function(a){console.log(a),j({}),c(e.email),t.setSubmitting(!1)})).catch((function(e){"error"in e.response.data?t.setFieldError("email",e.response.data.error):t.setFieldError("email","Email not found"),t.setSubmitting(!1)}))},validationSchema:p,children:function(e){return Object(U.jsxs)(v.c,{children:[Object(U.jsx)(v.b,{as:h.a,label:"Email",name:"email",placeholder:"Enter email",helperText:Object(U.jsx)(v.a,{name:"email"}),fullWidth:!0,required:!0}),Object(U.jsx)(m.a,{type:"submit",variant:"contained",disabled:e.isSubmitting,fullWidth:!0,color:"primary",children:e.isSubmitting?"Loading":"Get Otp"})]})}}),Object(U.jsx)(v.d,{initialValues:u,onSubmit:function(t,a){var i={email:n,newPassword:t.password,otp:t.otp};console.log(i),function(e){return k()({method:"PATCH",url:"".concat(y,"/api/users/reset_password_otp/"),data:e})}(i).then((function(t){console.log(t),a.setSubmitting(!1),setTimeout((function(){e.push("/")}),1e3)})).catch((function(e){a.setFieldError("otp","Otp is invalid"),a.setSubmitting(!1)}))},validationSchema:x,children:function(e){return Object(U.jsxs)(v.c,{style:Object(A.a)(Object(A.a)({},b),l),children:[Object(U.jsxs)(O.a,{variant:"caption",children:["Please enter OTP sent to ",n]}),Object(U.jsx)(v.b,{as:h.a,name:"otp",helperText:Object(U.jsx)(v.a,{name:"otp"}),fullWidth:!0,label:"OTP",placeholder:"Enter OTP received"}),Object(U.jsx)(v.b,{as:h.a,label:"Password",helperText:Object(U.jsx)(v.a,{name:"password"}),name:"password",placeholder:"Enter password",type:"password",fullWidth:!0,required:!0}),Object(U.jsx)(v.b,{as:h.a,name:"confirmPassword",helperText:Object(U.jsx)(v.a,{name:"confirmPassword"}),fullWidth:!0,label:"Confirm Password",type:"password",placeholder:"Enter your password again"}),Object(U.jsx)(m.a,{type:"submit",variant:"contained",disabled:e.isSubmitting,fullWidth:!0,color:"primary",children:e.isSubmitting?"Loading":"Update"})]})}})]})})},G=function(){return Object(U.jsxs)("div",{className:"SigninOutcontainer",children:[Object(U.jsx)("h1",{children:"Bibliophile"}),Object(U.jsxs)(o.c,{children:[Object(U.jsx)(o.a,{path:"/forget_password/",component:M,exact:!0}),Object(U.jsx)(o.a,{path:"/verify_email_otp/",component:X,exact:!0}),Object(U.jsx)(o.a,{path:"/verify_email/:email/:email_token/",exact:!0,component:function(e){return Object(U.jsx)(V,Object(A.a)({},e))}}),Object(U.jsx)(o.a,{path:"/",component:z,exact:!0})]})]})},J=a(35),Y=a(403),Z=a(25),$=a(405),ee=a(406),te=a(401),ae=a(414),ie=a(404),ne=a(415),ce=a(183),se=a(177),Ae=a.n(se),re=a(104),oe=a.n(re),le=a(123),de=a.n(le),ge=a(178),je=a.n(ge),be=a(411),ue=(a(334),"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4QBqRXhpZgAASUkqAAgAAAADABIBAwABAAAAAQAAADEBAgARAAAAMgAAAGmHBAABAAAARAAAAAAAAABTaG90d2VsbCAwLjMwLjEwAAACAAKgCQABAAAArQAAAAOgCQABAAAA+AAAAAAAAAD/4Qn0aHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIiB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIgZXhpZjpQaXhlbFhEaW1lbnNpb249IjE3MyIgZXhpZjpQaXhlbFlEaW1lbnNpb249IjI0OCIgdGlmZjpJbWFnZVdpZHRoPSIxNzMiIHRpZmY6SW1hZ2VIZWlnaHQ9IjI0OCIgdGlmZjpPcmllbnRhdGlvbj0iMSIvPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/eHBhY2tldCBlbmQ9InciPz7/2wBDAAMCAgMCAgMDAwMEAwMEBQgF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"),Ce=function(e){return Object(U.jsx)("div",{className:"order-inner-product col-md-3 col-sm-4 col-6",children:Object(U.jsxs)("div",{className:"container",children:[Object(U.jsx)("div",{className:"image-product-id",children:Object(U.jsx)(r.b,{to:"/book_info/"+e.unique_book_id,children:Object(U.jsx)("div",{className:"image",children:Object(U.jsx)("img",{className:"img-item",src:null!=e.image_link?e.image_link:ue,alt:""})})})}),Object(U.jsx)("div",{className:"item-info",children:Object(U.jsx)("div",{className:"name",children:e.title})})]})})},Ie=Object(Y.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(J.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(J.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Z.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Z.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(J.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(J.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(J.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function he(e){return Object(U.jsx)("div",{className:"order-inner-product col-md-3 col-sm-4 col-6",children:Object(U.jsxs)("div",{className:"container",children:[Object(U.jsx)("div",{className:"image-product-id",children:Object(U.jsx)(r.b,{to:"/book_info/"+e.productId,children:Object(U.jsx)("div",{className:"image",children:Object(U.jsx)("img",{className:"img-item",src:e.image,alt:""})})})}),Object(U.jsxs)("div",{className:"item-info",children:[Object(U.jsx)("div",{className:"name",children:e.title}),Object(U.jsxs)("div",{className:"quantity",children:["Author: ",e.author]}),Object(U.jsxs)("div",{className:"size",children:["Page Count: ",e.pageCount]})]}),Object(U.jsx)("div",{className:"item-price",children:Object(U.jsxs)("div",{children:["Price: ",e.price," ",e.currency]})})]})})}function me(){var e=Ie(),t=n.a.useState(null),a=Object(d.a)(t,2),c=a[0],s=a[1],A=n.a.useState(null),r=Object(d.a)(A,2),l=r[0],g=r[1],j=Object(i.useState)([]),b=Object(d.a)(j,2),u=b[0],C=b[1],I=Object(i.useState)(1),h=Object(d.a)(I,2),m=h[0],p=h[1],x=Object(i.useState)(""),f=Object(d.a)(x,2),v=f[0],w=f[1],N=Object(i.useState)(!1),P=Object(d.a)(N,2),B=P[0],F=P[1],K=Object(i.useState)(0),q=Object(d.a)(K,2),Q=q[0],E=q[1],D=Object(i.useState)([]),_=Object(d.a)(D,2),T=_[0],W=_[1],H=Object(i.useState)([]),L=Object(d.a)(H,2),z=L[0],X=L[1],V=Object(i.useState)(0),M=Object(d.a)(V,2),G=M[0],J=M[1],Y=Object(o.f)(),Z=Boolean(c),se=Boolean(l),re=function(){Y.push("/profile/")},le=function(){Y.push("/friends/")};function ge(e,t){localStorage.removeItem("bibliophile_token"),Y.push("/")}Object(i.useEffect)((function(){(function(){var e=k()({method:"get",url:"".concat(y,"/api/users/home_page/"),headers:{accept:"application/json",Authorization:S}});return console.log(e),e})().then((function(e){console.log(e),W(e.data.data.top_rating_books),X(e.data.data.top_popular_books),J(e.data.data.friend_request_count)})).catch((function(e){}))}),[]);var me=function(){g(null)},Oe="primary-search-account-menu",pe=Object(U.jsxs)(ce.a,{anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},id:Oe,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Z,onClose:function(){s(null),me()},children:[Object(U.jsx)(ne.a,{onClick:re,children:"Profile"}),Object(U.jsx)(ne.a,{onClick:ge,children:"Log Out"})]}),xe="primary-search-account-menu-mobile",fe=Object(U.jsxs)(ce.a,{anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"right"},id:xe,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:se,onClose:me,children:[Object(U.jsxs)(ne.a,{onClick:le,children:[Object(U.jsx)(te.a,{"aria-label":"show friend requests",color:"inherit",children:Object(U.jsx)(ie.a,{badgeContent:G,color:"secondary",children:Object(U.jsx)(de.a,{})})}),Object(U.jsx)("p",{children:"Friends"})]}),Object(U.jsxs)(ne.a,{onClick:re,children:[Object(U.jsx)(te.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(U.jsx)(oe.a,{})}),Object(U.jsx)("p",{children:"Profile"})]}),Object(U.jsxs)(ne.a,{onClick:ge,children:[Object(U.jsx)(te.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(U.jsx)(oe.a,{})}),Object(U.jsx)("p",{children:"Log out"})]})]});return Object(U.jsxs)("div",{className:e.grow,children:[Object(U.jsx)($.a,{position:"static",children:Object(U.jsxs)(ee.a,{children:[Object(U.jsx)(O.a,{className:e.title,variant:"h6",noWrap:!0,children:"Bibliophile"}),Object(U.jsxs)("div",{className:e.search,children:[Object(U.jsx)("div",{className:e.searchIcon,children:Object(U.jsx)(Ae.a,{})}),Object(U.jsx)(ae.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},onChange:function(e){var t=e.target.value;w(t),F(""!==v&&null!==v),console.log("hhhhhhhhhhhhh",t),R(t,m).then((function(e){console.log(e),e.data.totalItems%10>0?E(Math.floor(e.data.totalItems/10+1)):E(Math.floor(e.data.totalItems/10)),e.data.totalItems>0?C(e.data.items):C([])})).catch((function(e){})),console.log(e.target.value)},inputProps:{"aria-label":"search"}})]}),Object(U.jsx)("div",{className:e.grow}),Object(U.jsxs)("div",{className:e.sectionDesktop,children:[Object(U.jsx)(te.a,{"aria-label":"show new freind requests",onClick:le,color:"inherit",children:Object(U.jsx)(ie.a,{badgeContent:G,color:"secondary",children:Object(U.jsx)(de.a,{})})}),Object(U.jsx)(te.a,{edge:"end","aria-label":"account of current user","aria-controls":Oe,"aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},color:"inherit",children:Object(U.jsx)(oe.a,{})})]}),Object(U.jsx)("div",{className:e.sectionMobile,children:Object(U.jsx)(te.a,{"aria-label":"show more","aria-controls":xe,"aria-haspopup":"true",onClick:function(e){g(e.currentTarget)},color:"inherit",children:Object(U.jsx)(je.a,{})})})]})}),fe,pe,B&&Object(U.jsx)("div",{className:"books-list-container",children:u.map((function(e){return Object(U.jsx)(he,{productId:e.id,image:e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:ue,title:e.volumeInfo.title.length<24?e.volumeInfo.title:e.volumeInfo.title.substring(0,25)+"...",author:e.volumeInfo.authors&&e.volumeInfo.authors[0],pageCount:e.volumeInfo&&e.volumeInfo.pageCount,description:e.volumeInfo.description,price:e.saleInfo.retailPrice?e.saleInfo.retailPrice.amount:"NA",currency:e.saleInfo.retailPrice?e.saleInfo.retailPrice.currencyCode:""},e.id)}))}),B&&Object(U.jsx)(be.a,{count:Q,showFirstButton:!0,showLastButton:!0,onChange:function(e,t){p(t),R(v,t).then((function(e){console.log(e),C(e.data.items)})).catch((function(e){}))}}),Object(U.jsxs)("div",{className:"extra-section",children:[Object(U.jsx)("h1",{children:"Top Rated Books"}),Object(U.jsx)("hr",{}),Object(U.jsx)("div",{className:"books-list-container",children:T.map((function(e,t){return Object(U.jsx)(Ce,{title:e.title,image_link:e.image_link,unique_book_id:e.unique_book_id},t)}))})]}),Object(U.jsxs)("div",{className:"extra-section",children:[Object(U.jsx)("h1",{children:"Popupar Books"}),Object(U.jsx)("hr",{}),Object(U.jsx)("div",{className:"books-list-container",children:z.map((function(e,t){return Object(U.jsx)(Ce,{title:e.title,image_link:e.image_link,unique_book_id:e.unique_book_id},t)}))})]})]})}a(162);var Oe="data:image/jpeg;base64,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",pe=function(e){return Object(U.jsx)("div",{className:"friend-inner-section",children:Object(U.jsx)(r.b,{to:"/user_profile/"+e.user_id+"/",children:Object(U.jsxs)("div",{className:"container",children:[Object(U.jsx)("div",{className:"image-product-id",children:Object(U.jsx)("div",{className:"image",children:Object(U.jsx)("img",{className:"img-item",src:null!=e.image_link?e.image_link:Oe,alt:""})})}),Object(U.jsx)("div",{className:"item-info",children:Object(U.jsx)("div",{className:"name",children:e.email})})]})})})},xe=a(179),fe=(a(335),a(407)),ve=a(413);a(336);var we=function(e){var t=Object(i.useState)(""),a=Object(d.a)(t,2),n=a[0],c=a[1],s=Object(i.useState)(),r=Object(d.a)(s,2),o=r[0],l=r[1];return Object(U.jsxs)(fe.a,Object(A.a)(Object(A.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(U.jsx)(fe.a.Header,{closeButton:!0,children:Object(U.jsx)(fe.a.Title,{id:"contained-modal-title-vcenter",children:"Add Image"})}),Object(U.jsx)(fe.a.Body,{children:Object(U.jsxs)("div",{children:[Object(U.jsxs)("div",{style:{width:"100%"},children:[Object(U.jsx)("input",{type:"file",onChange:function(e){var t;e.preventDefault(),e.dataTransfer?t=e.dataTransfer.files:e.target&&(t=e.target.files);var a=new FileReader;a.onload=function(){c(a.result)},a.readAsDataURL(t[0])}}),Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),Object(U.jsx)(xe.a,{style:{height:400,width:"100%"},initialAspectRatio:1,aspectRatio:e.aspectRatio,preview:".img-preview",src:n,viewMode:1,guides:!0,minCropBoxHeight:10,minCropBoxWidth:10,background:!1,responsive:!0,scalable:!1,zoomable:!0,cropBoxResizable:!0,autoCropArea:1,checkOrientation:!1,onInitialized:function(e){l(e)}})]}),Object(U.jsx)(ve.a,{style:{float:"right"},onClick:function(){"undefined"!==typeof o&&e.setCropUrl(o.getCroppedCanvas().toDataURL()),e.onHide()},children:"Crop Image"}),Object(U.jsx)("br",{style:{clear:"both"}})]})})]}))},Ne={first_name:"",last_name:"",phone:0,email:"",description:""},ke=function(){var e=Object(o.f)(),t=Object(i.useState)(Ne),a=Object(d.a)(t,2),n=a[0],c=a[1],s=Object(i.useState)(null),r=Object(d.a)(s,2),l=r[0],g=r[1],j=Object(i.useState)([]),b=Object(d.a)(j,2),u=b[0],I=b[1],O=Object(i.useState)([]),p=Object(d.a)(O,2),x=p[0],f=p[1],v=Object(i.useState)([]),w=Object(d.a)(v,2),N=w[0],P=w[1],B=Object(i.useState)([]),R=Object(d.a)(B,2),F=R[0],K=R[1],q=Object(i.useState)(!1),Q=Object(d.a)(q,2),E=Q[0],D=Q[1],_=function(e){var t=e.target,a=t.name,i=t.value;c(Object(A.a)(Object(A.a)({},n),{},Object(J.a)({},a,i)))};var T=function(){k()({method:"get",url:"".concat(y,"/api/users/profile/"),headers:{accept:"application/json",Authorization:S}}).then((function(e){console.log(e),c({first_name:e.data.data.first_name,last_name:e.data.data.last_name,phone:e.data.data.phone,email:e.data.data.email,description:null!=e.data.data.description?e.data.data.description:""}),g(e.data.data.profile_image),console.log(e.data.data.wishlist_list),I(e.data.data.wishlist_list),P(e.data.data.shelflist_list),f(e.data.data.readlist_list),K(e.data.data.friends)})).catch((function(t){401===t.response.status&&e.push("/")}))};return Object(i.useEffect)(T,[]),Object(U.jsxs)("div",{className:"profile_section",children:[Object(U.jsx)("h3",{children:"Profile"}),Object(U.jsxs)("div",{className:"profile-subsection row",children:[Object(U.jsxs)("div",{className:"profile-image column",children:[Object(U.jsx)("img",{src:l||Oe,alt:"Profile"}),Object(U.jsx)(m.a,{variant:"primary",onClick:function(){return D(!0)},children:"Update picture"}),Object(U.jsx)(we,{aspectRatio:1,show:E,onHide:function(){return D(!1)},setCropUrl:function(e){for(var t=e.split(","),a=t[0].match(/:(.*?);/)[1],i=atob(t[1]),n=i.length,c=new Uint8Array(n);n--;)c[n]=i.charCodeAt(n);var s,A=new File([c],"imagename",{type:a}),r=new FormData;r.append("profile_image",A),(s=r,k()({method:"PATCH",url:"".concat(y,"/api/users/update_picture_profile/"),data:s,headers:{accept:"application/json",Authorization:S}})).then((function(e){T()})).catch((function(e){console.log(e),alert("Details not saved. Contact Admin")}))}})]}),Object(U.jsxs)("div",{className:"profile-form column",children:[Object(U.jsx)("form",{onSubmit:function(t){var a;t.preventDefault(),console.log(n),(a=n,k()({method:"put",url:"".concat(y,"/api/users/profile/"),data:a,headers:{accept:"application/json",Authorization:S}})).then((function(e){console.log(e),alert("Updated")})).catch((function(t){401===t.response.status&&e.push("/"),alert("Please try again later")}))},children:Object(U.jsxs)(C.a,{container:!0,alignItems:"center",justify:"center",direction:"column",children:[Object(U.jsx)(C.a,{item:!0,children:Object(U.jsx)(h.a,{id:"first-name-input",name:"first_name",label:"First Name",type:"text",value:n.first_name,onChange:_})}),Object(U.jsx)(C.a,{item:!0,children:Object(U.jsx)(h.a,{id:"last-name-input",name:"last_name",label:"Last Name",type:"text",value:n.last_name,onChange:_})}),Object(U.jsx)(C.a,{item:!0,children:Object(U.jsx)(h.a,{id:"email-input",name:"email",label:"Email",type:"email",disabled:!0,value:n.email,onChange:_})}),Object(U.jsx)(C.a,{item:!0,children:Object(U.jsx)(h.a,{id:"description-input",name:"description",label:"Description",type:"description",multiline:!0,variant:"outlined",value:n.description,onChange:_})}),Object(U.jsx)(C.a,{item:!0,children:Object(U.jsx)(h.a,{id:"phone-input",name:"phone",label:"Phone Number",type:"text",value:n.phone,onChange:_})}),Object(U.jsx)(m.a,{variant:"contained",color:"primary",type:"submit",children:"Update"})]})}),Object(U.jsxs)("div",{className:"extra-section",children:[Object(U.jsx)("h1",{children:"Currently reading"}),Object(U.jsx)("hr",{}),Object(U.jsx)("div",{className:"books-list-container",children:x.map((function(e){return Object(U.jsx)(Ce,{title:e.title,image_link:e.image_link,unique_book_id:e.unique_book_id})}))})]}),Object(U.jsxs)("div",{className:"extra-section",children:[Object(U.jsx)("h1",{children:"Wishlist"}),Object(U.jsx)("hr",{}),Object(U.jsx)("div",{className:"books-list-container",children:u.map((function(e){return Object(U.jsx)(Ce,{title:e.title,image_link:e.image_link,unique_book_id:e.unique_book_id})}))})]}),Object(U.jsxs)("div",{className:"extra-section",children:[Object(U.jsx)("h1",{children:"Bookshelf"}),Object(U.jsx)("hr",{}),Object(U.jsx)("div",{className:"books-list-container",children:N.map((function(e){return Object(U.jsx)(Ce,{title:e.title,image_link:e.image_link,unique_book_id:e.unique_book_id})}))})]}),Object(U.jsxs)("div",{className:"extra-section",children:[Object(U.jsx)("h1",{children:"My friends"}),Object(U.jsx)("hr",{}),Object(U.jsx)("div",{className:"friends-list-container",children:F.map((function(e){return Object(U.jsx)(pe,{fetchItems:T,email:e.user.email,image_link:e.user.profile_image,user_id:e.user.id},e.id)}))})]})]})]})]})},ye=(a(338),a(124)),Pe=a.n(ye),Se=function(e){var t=Object(o.f)();return Object(U.jsx)("div",{className:"friend-inner-section",children:Object(U.jsxs)("div",{className:"container",children:[Object(U.jsx)("div",{className:"image-product-id",children:Object(U.jsx)(r.b,{to:"/user_profile/"+e.user_id,children:Object(U.jsx)("div",{className:"image",children:Object(U.jsx)("img",{className:"img-item",src:null!=e.image_link?e.image_link:Oe,alt:""})})})}),Object(U.jsx)("div",{className:"item-info",children:Object(U.jsx)("div",{className:"name",children:e.email})}),Object(U.jsxs)("div",{className:"item-info",children:[Object(U.jsx)("div",{className:"accept-btn",children:Object(U.jsx)(m.a,{onClick:function(){var a={request_id:e.request_id,status:!0};F(a).then((function(t){console.log(t),e.fetchItems()})).catch((function(e){401===e.response.status&&t.push("/"),alert("Please try again later")}))},variant:"contained",color:"primary",startIcon:Object(U.jsx)(Pe.a,{}),children:"Accept"})}),Object(U.jsx)("div",{className:"reject-btn",children:Object(U.jsx)(m.a,{onClick:function(){var a={request_id:e.request_id,status:!1};F(a).then((function(t){console.log(t),e.fetchItems()})).catch((function(e){401===e.response.status&&t.push("/"),alert("Please try again later")}))},variant:"contained",color:"secondary",startIcon:Object(U.jsx)(Pe.a,{}),children:"Decline"})})]})]})})},Be=function(){var e=Object(o.f)(),t=Object(i.useState)([]),a=Object(d.a)(t,2),n=a[0],c=a[1],s=Object(i.useState)([]),A=Object(d.a)(s,2),r=A[0],l=A[1],g=function(){k()({method:"get",url:"".concat(y,"/api/users/friend_requests/"),headers:{accept:"application/json",Authorization:S}}).then((function(e){c(e.data.data.pending),l(e.data.data.friends)})).catch((function(t){t.response.status&&e.pushState("/")}))};return Object(i.useEffect)(g,[]),Object(U.jsxs)("div",{className:"friend_section",children:[Object(U.jsx)("h3",{children:"Friends"}),Object(U.jsxs)("div",{className:"friend-subsection row",children:[Object(U.jsx)("div",{className:"friend-image column",children:Object(U.jsx)("h2",{children:"My Friends"})}),Object(U.jsxs)("div",{className:"friend-form column",children:[Object(U.jsxs)("div",{className:"extra-section",children:[Object(U.jsx)("h1",{children:"Pending Friend Requests"}),Object(U.jsx)("hr",{}),Object(U.jsx)("div",{className:"friends-list-container",children:n.map((function(e){return Object(U.jsx)(Se,{fetchItems:g,email:e.user.email,image_link:e.user.profile_image,request_id:e.id,user_id:e.user.id},e.id)}))})]}),Object(U.jsxs)("div",{className:"extra-section",children:[Object(U.jsx)("h1",{children:"Friends"}),Object(U.jsx)("hr",{}),Object(U.jsx)("div",{className:"friends-list-container",children:r.map((function(e){return Object(U.jsx)(pe,{fetchItems:g,email:e.user.email,image_link:e.user.profile_image,user_id:e.user.id},e.id)}))})]})]})]})]})},Re=a(182),Fe=a(71),Ke=a.n(Fe),qe=function(e){return Object(U.jsxs)("div",{className:"book-info",children:[Object(U.jsx)("div",{className:"published-date",children:e.publishedDate.substring(0,4)}),Object(U.jsx)("div",{className:"title",children:e.title}),Object(U.jsx)("div",{className:"author",children:e.author}),Object(U.jsxs)("div",{className:"reviews",children:[Object(U.jsx)(Ke.a,{rating:e.rating,starRatedColor:"yellow",starSpacing:"15px"}),"( ",e.totalReviews," )"]}),Object(U.jsx)("div",{className:"description",children:Object(Re.a)(e.description)})]})},Ue=(a(95),{review:""}),Qe=function(e){var t=Object(o.f)(),a=Object(i.useState)(Ue),n=Object(d.a)(a,2),c=n[0],s=n[1],l=Object(i.useState)(0),g=Object(d.a)(l,2),j=g[0],b=g[1];return Object(U.jsx)("div",{className:"review_section",children:Object(U.jsxs)("div",{className:"review-form column",children:[Object(U.jsx)("h1",{children:"What is you rate?"}),Object(U.jsx)("div",{className:"reviews",children:Object(U.jsx)(Ke.a,{rating:j,changeRating:function(e,t){b(e)},starRatedColor:"yellow",starDimension:"40px",starSpacing:"15px"})}),Object(U.jsx)("form",{onSubmit:function(a){a.preventDefault();var i,n={book_id:e.bookId,comment:c.review,rating:j};(i=n,k()({method:"POST",url:"".concat(y,"/api/books/book_reviews/"),data:i,headers:{accept:"application/json",Authorization:S}})).then((function(t){console.log(t),e.fetchItems()})).catch((function(e){e.response.status&&t.push("/login/"),alert("Please try again later")}))},children:Object(U.jsxs)(C.a,{container:!0,alignItems:"center",justifyContent:"center",direction:"column",children:[Object(U.jsx)(C.a,{item:!0,children:Object(U.jsx)(h.a,{id:"review-input",name:"review",label:"Review",type:"text",value:c.review,onChange:function(e){var t=e.target,a=t.name,i=t.value;s(Object(A.a)(Object(A.a)({},c),{},Object(J.a)({},a,i)))}})}),Object(U.jsx)(m.a,{variant:"contained",color:"primary",type:"submit",children:"Add"})]})}),Object(U.jsxs)("div",{children:[Object(U.jsx)("h1",{children:"Reviews"}),e.reviews.map((function(e){return Object(U.jsxs)("div",{className:"user-review",children:[Object(U.jsxs)("div",{className:"review-details",children:[Object(U.jsx)("div",{className:"review-user",children:Object(U.jsx)(r.b,{to:"/user_profile/"+e.user_id+"/",children:e.user})}),Object(U.jsx)("div",{className:"review-timestamp",children:new Date(e.timestamp).toLocaleString()})]}),Object(U.jsx)("div",{style:{clear:"both"}}),Object(U.jsx)("div",{children:Object(U.jsx)(Ke.a,{rating:e.rating,starRatedColor:"yellow",starDimension:"20px",starSpacing:"8px"})}),Object(U.jsx)("div",{className:"comment",children:e.comment})]})}))]})]})})},Ee=a.p+"static/media/wishlist.bfc61ac9.png",De=a.p+"static/media/wishlist_disable.43b2f785.png",_e=a.p+"static/media/shelf.d170f0eb.png",Te=a.p+"static/media/shelf_disable.082518ae.png",We=a.p+"static/media/readlist.4bdefb40.png",He=a.p+"static/media/readlist_disable.b0cfdd81.png",Le=function(e){return Object(U.jsx)("div",{className:"reader-inner-section",children:Object(U.jsx)(r.b,{to:"/user_profile/"+e.user_id+"/",children:Object(U.jsxs)("div",{className:"container",children:[Object(U.jsx)("div",{className:"image-product-id",children:Object(U.jsx)("div",{className:"image",children:Object(U.jsx)("img",{className:"img-item",src:null!=e.image_link?e.image_link:Oe,alt:""})})}),Object(U.jsx)("div",{className:"item-info",children:Object(U.jsx)("div",{className:"name",children:e.email})})]})})})},ze=function(e){return Object(U.jsx)("div",{className:"review_section",children:Object(U.jsx)("div",{className:"review-form column",children:Object(U.jsxs)("div",{children:[Object(U.jsx)("h1",{children:"Readers"}),e.friends.map((function(e){return Object(U.jsx)(Le,{email:e.user.email,image_link:e.user.profile_image,user_id:e.user.id},e.id)}))]})})})},Xe=["children","value","index"],Ve=function(e){var t=e.match.params.book_id,a=Object(o.f)(),n=Object(i.useState)(0),c=Object(d.a)(n,2),s=c[0],r=c[1],C=Object(i.useState)(!1),I=Object(d.a)(C,2),h=I[0],m=I[1],O=Object(i.useState)(!1),p=Object(d.a)(O,2),x=p[0],f=p[1],v=Object(i.useState)(!1),w=Object(d.a)(v,2),N=w[0],P=w[1],B=Object(i.useState)([]),R=Object(d.a)(B,2),F=R[0],K=R[1];function q(e){var t=e.children,a=e.value,i=e.index,n=Object(l.a)(e,Xe);return Object(U.jsx)("div",Object(A.a)(Object(A.a)({role:"tabpanel",hidden:a!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i)},n),{},{children:a===i&&Object(U.jsx)(u.a,{children:t})}))}var Q=Object(i.useState)(""),E=Object(d.a)(Q,2),D=E[0],_=E[1],T=Object(i.useState)(""),W=Object(d.a)(T,2),H=W[0],L=W[1],z=Object(i.useState)(""),X=Object(d.a)(z,2),V=X[0],M=X[1],G=Object(i.useState)(""),J=Object(d.a)(G,2),Y=J[0],Z=J[1],$=Object(i.useState)(""),ee=Object(d.a)($,2),te=ee[0],ae=ee[1],ie=Object(i.useState)(0),ne=Object(d.a)(ie,2),ce=ne[0],se=ne[1],Ae=Object(i.useState)(0),re=Object(d.a)(Ae,2),oe=re[0],le=re[1],de=Object(i.useState)([]),ge=Object(d.a)(de,2),je=ge[0],be=ge[1],Ce=function(){var e;(e=t,k()({method:"get",url:"https://www.googleapis.com/books/v1/volumes/".concat(e,"/")})).then((function(e){_(e.data.volumeInfo.publishedDate),Z(e.data.volumeInfo.description?e.data.volumeInfo.description:"<p>Description not available</p?"),L(e.data.volumeInfo.title),M(e.data.volumeInfo.authors?e.data.volumeInfo.authors[0]:"NA"),e.data.volumeInfo.imageLinks.hasOwnProperty("thumbnail")?ae(e.data.volumeInfo.imageLinks.thumbnail):ae(ue)})).catch((function(e){})),function(e){return k()({method:"get",url:"".concat(y,"/api/books/book_info/").concat(e,"/"),headers:{accept:"application/json",Authorization:S}})}(t).then((function(e){se(e.data.data.review_count),le(e.data.data.average_rating),be(e.data.data.reviews),m(e.data.data.wishlist_status),f(e.data.data.readlist_status),P(e.data.data.shelflist_status),K(e.data.data.reading_users)})).catch((function(e){401===e.response.status&&a.push("/")}))};return Object(i.useEffect)(Ce,[t]),Object(U.jsx)("div",{className:"book-info-root",children:Object(U.jsxs)("div",{className:"book-info-outer-section row",children:[Object(U.jsx)("div",{className:"background-left column",children:Object(U.jsx)("img",{src:te,alt:"book cover"})}),Object(U.jsxs)("div",{className:"background-right column",children:[Object(U.jsxs)("div",{className:"user-btn-section",children:[Object(U.jsx)("button",{onClick:function(){(function(e){return k()({method:"PUT",url:"".concat(y,"/api/books/book_wishlist/"),data:e,headers:{accept:"application/json",Authorization:S}})})({book_id:t,status:!h}).then((function(e){!0===e.data.status?m(!0):m(!1)})).catch((function(e){401===e.response.status&&a.push("/"),console.log("Wishlist not processed")}))},children:Object(U.jsx)("img",{className:"wishlist_image",alt:"",src:h?Ee:De})}),Object(U.jsx)("button",{onClick:function(){(function(e){return k()({method:"PUT",url:"".concat(y,"/api/books/book_shelflist/"),data:e,headers:{accept:"application/json",Authorization:S}})})({book_id:t,status:!N}).then((function(e){!0===e.data.status?P(!0):P(!1)})).catch((function(e){401===e.response.status&&a.push("/"),console.log("Shelflist not processed")}))},children:Object(U.jsx)("img",{className:"shelflist_image",alt:"",src:N?_e:Te})}),Object(U.jsx)("button",{onClick:function(){(function(e){return k()({method:"PUT",url:"".concat(y,"/api/books/book_readlist/"),data:e,headers:{accept:"application/json",Authorization:S}})})({book_id:t,status:!x}).then((function(e){!0===e.data.status?f(!0):f(!1),Ce()})).catch((function(e){e.response.status&&a.push("/"),console.log("Readlist not processed")}))},children:Object(U.jsx)("img",{className:"readlist_image",alt:"",src:x?We:He})})]}),Object(U.jsx)("div",{className:"book-info-inner",children:Object(U.jsxs)(g.a,{elevation:20,style:{width:"90%",margin:"20px auto"},children:[Object(U.jsxs)(j.a,{value:s,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){r(t)},"aria-label":"disabled tabs example",children:[Object(U.jsx)(b.a,{label:"Info"}),Object(U.jsx)(b.a,{label:"Reviews"}),Object(U.jsx)(b.a,{label:"Readers"})]}),Object(U.jsx)(q,{value:s,index:0,children:Object(U.jsx)(qe,{bookId:t,publishedDate:D,title:H,author:V,description:Y,rating:oe,totalReviews:ce})}),Object(U.jsx)(q,{value:s,index:1,children:Object(U.jsx)(Qe,{fetchItems:Ce,bookId:t,reviews:je})}),Object(U.jsx)(q,{value:s,index:2,children:Object(U.jsx)(ze,{friends:F})})]})})]})]})})},Me=function(e){var t=e.match.params.user_id,a=Object(o.f)(),n=Object(i.useState)(""),c=Object(d.a)(n,2),s=c[0],A=c[1],r=Object(i.useState)(""),l=Object(d.a)(r,2),g=l[0],j=l[1],b=Object(i.useState)(""),u=Object(d.a)(b,2),C=u[0],I=u[1],h=Object(i.useState)(!1),O=Object(d.a)(h,2),p=O[0],x=O[1],f=Object(i.useState)(""),v=Object(d.a)(f,2),w=v[0],N=v[1],P=Object(i.useState)("Add Friend"),B=Object(d.a)(P,2),R=B[0],F=B[1],K=Object(i.useState)(""),q=Object(d.a)(K,2),Q=q[0],E=q[1],D=Object(i.useState)(null),_=Object(d.a)(D,2),T=_[0],W=_[1],H=Object(i.useState)([]),L=Object(d.a)(H,2),z=L[0],X=L[1],V=Object(i.useState)([]),M=Object(d.a)(V,2),G=M[0],J=M[1],Y=Object(i.useState)([]),Z=Object(d.a)(Y,2),$=Z[0],ee=Z[1],te=Object(i.useState)([]),ae=Object(d.a)(te,2),ie=ae[0],ne=ae[1],ce=function(){(function(e){return k()({method:"get",url:"".concat(y,"/api/users/user_profile/").concat(e,"/"),headers:{accept:"application/json",Authorization:S}})})(t).then((function(e){console.log(e),A(e.data.data.first_name?e.data.data.first_name:""),j(e.data.data.last_name?e.data.data.last_name:""),N(e.data.data.phone),I(e.data.data.email),0===e.data.data.request_status?(x(!1),F("Add Friend")):1===e.data.data.request_status?(x(!0),F("Requested")):4===e.data.data.request_status?(x(!0),F("My Profile")):(x(!0),F("Friend")),E(null!=e.data.data.description?e.data.data.description:""),W(e.data.data.profile_image),console.log(e.data.data.wishlist_list),X(e.data.data.wishlist_list),ee(e.data.data.shelflist_list),J(e.data.data.readlist_list),ne(e.data.data.friends)})).catch((function(e){401===e.response.status&&a.push("/")}))};return Object(i.useEffect)(ce,[t]),Object(U.jsxs)("div",{className:"profile_section",children:[Object(U.jsx)("h3",{children:"User Profile"}),Object(U.jsxs)("div",{className:"profile-subsection row",children:[Object(U.jsxs)("div",{className:"profile-image column",children:[Object(U.jsx)("img",{src:T||Oe,alt:"Profile"}),Object(U.jsx)("div",{className:"accept-btn",children:Object(U.jsx)(m.a,{disabled:p,onClick:function(){(function(e){return k()({method:"post",url:"".concat(y,"/api/users/friend_requests/"),data:e,headers:{accept:"application/json",Authorization:S}})})({receiver_id:t}).then((function(e){console.log(e),x(!0),F("Requested")})).catch((function(e){e.response.status&&a.push("/"),alert("Please try again later")}))},variant:"contained",color:"primary",children:R})})]}),Object(U.jsxs)("div",{className:"profile-form column",children:[Object(U.jsxs)("div",{className:"user-info",children:[Object(U.jsxs)("div",{className:"name",children:["Name: ",s," ",g]}),Object(U.jsxs)("div",{className:"email",children:["Email: ",C]}),Object(U.jsxs)("div",{className:"phone",children:["Phone Number: ",w]}),Object(U.jsxs)("div",{className:"description",children:["Description: ",Q]})]}),Object(U.jsxs)("div",{className:"extra-section",children:[Object(U.jsx)("h1",{children:"Currently reading"}),Object(U.jsx)("hr",{}),Object(U.jsx)("div",{className:"books-list-container",children:G.map((function(e){return Object(U.jsx)(Ce,{title:e.title,image_link:e.image_link,unique_book_id:e.unique_book_id})}))})]}),Object(U.jsxs)("div",{className:"extra-section",children:[Object(U.jsx)("h1",{children:"Wishlist"}),Object(U.jsx)("hr",{}),Object(U.jsx)("div",{className:"books-list-container",children:z.map((function(e){return Object(U.jsx)(Ce,{title:e.title,image_link:e.image_link,unique_book_id:e.unique_book_id})}))})]}),Object(U.jsxs)("div",{className:"extra-section",children:[Object(U.jsx)("h1",{children:"Bookshelf"}),Object(U.jsx)("hr",{}),Object(U.jsx)("div",{className:"books-list-container",children:$.map((function(e){return Object(U.jsx)(Ce,{title:e.title,image_link:e.image_link,unique_book_id:e.unique_book_id})}))})]}),Object(U.jsxs)("div",{className:"extra-section",children:[Object(U.jsx)("h1",{children:"Friends"}),Object(U.jsx)("hr",{}),Object(U.jsx)("div",{className:"friends-list-container",children:ie.map((function(e){return Object(U.jsx)(pe,{fetchItems:ce,email:e.user.email,image_link:e.user.profile_image,user_id:e.user.id},e.id)}))})]})]})]})]})};k.a.defaults.xsrfCookieName="csrftoken",k.a.defaults.xsrfHeaderName="X-CSRFToken";var Ge=function(){return Object(U.jsx)(r.a,{children:Object(U.jsx)("div",{className:"App",children:Object(U.jsxs)(o.c,{children:[Object(U.jsx)(o.a,{path:"/home/",exact:!0,component:me}),Object(U.jsx)(o.a,{path:"/book_info/:book_id/",exact:!0,component:function(e){return Object(U.jsx)(Ve,Object(A.a)({},e))}}),Object(U.jsx)(o.a,{path:"/profile/",exact:!0,component:ke}),Object(U.jsx)(o.a,{path:"/user_profile/:user_id/",exact:!0,component:function(e){return Object(U.jsx)(Me,Object(A.a)({},e))}}),Object(U.jsx)(o.a,{path:"/friends/",exact:!0,component:Be}),Object(U.jsx)(o.a,{path:"/",component:G})]})})})},Je=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,418)).then((function(t){var a=t.getCLS,i=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),i(e),n(e),c(e),s(e)}))};s.a.render(Object(U.jsx)(n.a.StrictMode,{children:Object(U.jsx)(Ge,{})}),document.getElementById("root")),Je()},55:function(e,t,a){},95:function(e,t,a){}},[[356,1,2]]]);
//# sourceMappingURL=main.c883dcba.chunk.js.map